function Search(t){this.init(t)}Search.prototype={settings:{defaultClass:"search-result",activeClass:"active-result",containersSelectors:".question,.toggle-content",startOnChange:!1,startOnKeypress:13,nextOnKeypress:13,scrollToActive:!0,queryInput:"#search",resultCurrentSelector:".currentResult",resultsTotalSelector:".totalResults",searchBtnEnabled:!0,searchIcon:".letter-list .input-group-addon"},onSearchDone:function(){return!0},onNextStep:function(t,e){return!0},quryString:"",numberOfResults:0,currentResultNumber:0,init:function(t){var e=this;e.settings=$.extend(e.settings,t||{}),e._initTriggering(),e.onSearchDone=e.settings.onSearchDone,e.onNextStep=e.settings.onNextStep},setActive:function(t){},setString:function(t,e){var s=this;t=t.trim(),e=e&&t!=s.quryString,s.quryString=t,$(s.settings.queryInput).val(t),e&&s._execute()},getNextResult:function(){var t=this,e=$(t.settings.queryInput).val();if(t.setString(e,!0),!t.numberOfResults)return t._setCurretnNumber(0),!1;var s=t.currentResultNumber+1;if(s>t.numberOfResults&&(s=1),$("."+t.settings.defaultClass+"."+t.settings.activeClass).removeClass(t.settings.activeClass),$("."+t.settings.defaultClass).length>0){var n=$("."+t.settings.defaultClass)[s-1];$(n).addClass(t.settings.activeClass)}return t._setCurretnNumber(s),!0},_initTriggering:function(){var t=this;(t.settings.startOnKeypress||t.settings.nextOnKeypress)&&$(window).keypress(function(e){e.keyCode==t.settings.startOnKeypress&&t.getNextResult()}),t.settings.searchBtnEnabled&&t.settings.searchIcon&&$(t.settings.searchIcon).on("click",function(){t.getNextResult()})},_execute:function(){var t=this;return t._clearOld(),t.quryString?(t._containersProcessing(t.quryString),t.onSearchDone(),!0):(t._setTotalResultsNumber(0),t._setCurretnNumber(0),t.onSearchDone(),!1)},_clearOld:function(){$("."+this.settings.defaultClass).each(function(){var t=$(this).html();$(this).replaceWith(t)})},_containersProcessing:function(t){var e=this;e._setTotalResultsNumber(0),e._setCurretnNumber(0),$(e.settings.containersSelectors).each(function(){var s=$(this).html();$(this).html(e._stringProcessing(t,s))})},_stringProcessing:function(t,e){var s=this;t=t.toLowerCase();for(var n=0,r=e.toLowerCase().indexOf(t),u=$("<span>");r>-1;){var i=$("<span>");i.addClass(s.settings.defaultClass),i.html(e.substr(r,t.length));var a=e.substr(0,r),l=e.substr(r+t.length),o=u.append(i).html();e=a+o+l;var c=o.length;r=e.toLowerCase().indexOf(t,r+c),u.html(""),n++}return s._setTotalResultsNumber(s.numberOfResults+n),e},_setCurretnNumber:function(t){var e=this;e.numberOfResults||(t=0),e.currentResultNumber=t,$(e.settings.resultCurrentSelector).text(t),e.onNextStep(e.currentResultNumber,$("."+e.settings.activeClass))},_setTotalResultsNumber:function(t){var e=this;e.numberOfResults=t,$(e.settings.resultsTotalSelector).text(e.numberOfResults+" item(s)â€Ž"),e.numberOfResults<1?$(e.settings.queryInput).parent().addClass("empty"):$(e.settings.queryInput).parent().removeClass("empty")}};