var tooltip={tooltip:$('<div id="tooltip"></div>'),targets:"",init:function(t){this.targets=t,$.each(this.targets,function(t,o){if(!$(o).attr("data-tooltip"))throw'Target block must have "data-tooltip" attribute.'});var o=this;this.targets.on("mouseenter",function(){o.showContent($(this)),o.updatePosition($(this))}),this.targets.on("mouseleave",function(){o.remove()}),o.tooltip.on("click",function(){o.remove()})},showContent:function(t){var o=t.attr("data-tooltip");this.tooltip.css("opacity",0).html(o).appendTo("body")},remove:function(){this.tooltip.animate({top:"-=10",opacity:0},0,function(){$(this).remove()})},updatePosition:function(t){var o=t.offset().left+t.outerWidth()/2-this.tooltip.outerWidth()/2,i=t.offset().top-this.tooltip.outerHeight()-20,e=$(".header");$(window).width()<1.5*this.tooltip.outerWidth()?this.tooltip.css("max-width",$(window).width()/2):this.tooltip.css("max-width",220),o<0?(o=t.offset().left+t.outerWidth()/2-20,this.tooltip.addClass("left")):this.tooltip.removeClass("left"),o+this.tooltip.outerWidth()>$(window).width()?(o=t.offset().left-this.tooltip.outerWidth()+t.outerWidth()/2+20,this.tooltip.addClass("right")):this.tooltip.removeClass("right"),(1===e.length?e.offset().top+e.outerHeight():$(window).scrollTop())>=i?(i=t.offset().top+t.outerHeight(),this.tooltip.addClass("top")):this.tooltip.removeClass("top"),this.tooltip.css({left:o,top:i}).animate({top:"+=10",opacity:1},0)}};