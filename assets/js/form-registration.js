"use strict";$(".regform__show-hide-pass").click(function(){$(this).children().hasClass("fa-eye-slash")?($(this).siblings(".regform__input_pass").attr("type","text").focus(),$(this).children(".fa-eye-slash").removeClass("fa-eye-slash").addClass("fa-eye")):($(this).siblings(".regform__input_pass").attr("type","password").focus(),$(this).children(".fa-eye").removeClass("fa-eye").addClass("fa-eye-slash"))});var selectedCountry,isCountriesListOpen=!1,blockedCountriesArr=["AU","IR","IL","CA","UA","US","JP","SY","KP"];function addCountryCode(e){var r=e,s=$(r).attr("data-phoneCode");$("#input-country-code").val(s);var i=$(r).attr("data-imgName"),o="assets/img/"+i;$(r).parent().siblings(".regform__flag-wrapper").find(".regform__flag-img").attr("src",o),$("#input-phone").removeAttr("readonly").focus(),selectedCountry=i.slice(0,-4)}$(".regform__flag-wrapper-cover-for-click").click(function(){if(isCountriesListOpen)$(".regform__countries-wrapper").css({height:"0px"}).css({display:"none"}),isCountriesListOpen=!1;else{if($(".regform__countries-wrapper").css({display:"block"}).css({height:"190px"}),isCountriesListOpen=!0,$(".regform__country").children().length)return;e:for(var e=0;e<countriesArr.length;e++){for(var r=0;r<blockedCountriesArr.length;r++)if(blockedCountriesArr[r]==countriesArr[e].ISOcode)continue e;var s='<div class="regform__country" data-phoneCode="'+countriesArr[e].phoneCode+'" data-imgName="'+countriesArr[e].imgName+'" onclick="addCountryCode(this)">                       <div class="regform__img-flag-wrapper">                         <img class="regform__flag-img" src="assets/img/'+countriesArr[e].imgName+'", alt="country-flag">                       </div>                       <div class="regform__country-name">'+countriesArr[e].nameEn+"</div>                     </div>";$(".regform__countries-wrapper").append(s)}}}),$(document).click(function(e){isCountriesListOpen&&"regform__flag-wrapper-cover-for-click"!=e.target.className&&($(".regform__countries-wrapper").css({height:"0px"}).css({display:"none"}),isCountriesListOpen=!1)}),$("#input-phone").keypress(function(e){if(!((e=e||event).ctrlKey||e.altKey||e.metaKey)){var r,s=null!=(r=e).which?0==r.which||0==r.charCode?null:r.which<32?null:String.fromCharCode(r.which):r.keyCode<32?null:String.fromCharCode(r.keyCode);if(null!=s&&(s<"0"||"9"<s))return!1}});var dictionary={emptyField:{ru:"Данное поле не может быть пустым. Заполните поле!",en:"This field cannot be empty. Fill in the field!"},correctEmail:{ru:"Введите корректную эл. почту!",en:"Enter a valid e-mail!"},correctPhone:{ru:"Выберите код страны и введите корректный номер телефона!",en:"Select a country code and enter a valid phone number!"},correctPassword:{ru:"Пароль должен быть минимум 8 символов в длинну, содержать цифры и буквы!",en:"The password must be at least 8 characters long, contain numbers and letters!"},passwordMatch:{ru:"Пароли не совпадают!",en:"Passwords do not match!"},consentConfirm:{ru:"Подтвердите согласие с условиями!",en:"Confirm the conditions!"}},isMessageVisible=!1;function showErrorMessage(e,r,s,i){var o,a=$(e)[0],n=$(a).outerWidth(),t=$(a).position().left,c=s||$(a).position().top+$(a).outerHeight(),l=$(".language-switcher").attr("data-lang"),p=$('<div class="regform__error"></div>').text(r[l]).append('<div class="error-triangle"></div>');o=i?i+"px":t+n/2-20+"px",$(p).css("top",c+10),$($(".regform")[0]).append(p),$($(".error-triangle")[0]).css("left",o)}function isEmailValid(e){var r=calculateCharsInStr(e,"@");return 1==r&&(!((r=calculateCharsInStr(e,"."))<1)&&("@"!=e.charAt(0)&&"."!=e.charAt(0)&&"@"!=e.charAt(e.length-1)&&"."!=e.charAt(e.length-1)&&(-1==e.indexOf("@.")&&-1!=e.split("@")[1].indexOf("."))))}function calculateCharsInStr(e,r){for(var s=0,i=0;;){var o=e.indexOf(r,s);if(-1==o)break;i++,s=o+1}return i}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}$("#btnsubmit").click(function(){if($("#input-firstName").val().length<2){if(isMessageVisible)return;return $("#input-firstName").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-firstName",dictionary.emptyField),void(isMessageVisible=!0)}if($("#input-lastName").val().length<2){if(isMessageVisible)return;return $("#input-lastName").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-lastName",dictionary.emptyField),void(isMessageVisible=!0)}if(!isEmailValid($("#input-email").val())){if(isMessageVisible)return;return $("#input-email").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-email",dictionary.correctEmail),void(isMessageVisible=!0)}if($("#input-phone").val().length<7){if(isMessageVisible)return;return $(".regform__phone-wrapper:eq(0)").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage(".regform__phone-wrapper:eq(0)",dictionary.correctPhone,170,150),void(isMessageVisible=!0)}for(var e=$("#input-password").val(),r=e.split(""),s=0,i=0;i<r.length;i++)isNumeric(r[i])&&s++;if(e.length<8||e.length==s||0==s){if(isMessageVisible)return;return $("#input-password").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-password",dictionary.correctPassword),void(isMessageVisible=!0)}if($("#input-password").val()!=$("#input-confirm-pass").val()){if(isMessageVisible)return;return $("#input-password, #input-confirm-pass").css({"box-shadow":"0 0 5px red","border-color":"red"}),$("#input-confirm-pass").focus(),showErrorMessage("#input-confirm-pass",dictionary.passwordMatch),void(isMessageVisible=!0)}if(1!=$(".regform__agree-wrapper input:checked").length){if(isMessageVisible)return;return $(".regform__agree-checkbox-span").css({"box-shadow":"0 0 5px red","border-color":"red"}),showErrorMessage(".regform__agree-checkbox-span",dictionary.consentConfirm,270,-1),void(isMessageVisible=!0)}}),$("#input-firstName").keyup(function(e){1<$("#input-firstName").val().length&&($(".regform__error").remove(),isMessageVisible=!1,$("#input-firstName").css({"box-shadow":"none","border-color":"white"}))}),$("#input-lastName").keyup(function(e){1<$("#input-lastName").val().length&&($(".regform__error").remove(),isMessageVisible=!1,$("#input-lastName").css({"box-shadow":"none","border-color":"white"}))}),$("#input-email").keyup(function(){isEmailValid($("#input-email").val())&&($(".regform__error").remove(),isMessageVisible=!1,$("#input-email").css({"box-shadow":"none","border-color":"white"}))}),$("#input-phone").keyup(function(e){6<$("#input-phone").val().length&&($(".regform__error").remove(),isMessageVisible=!1,$(".regform__phone-wrapper:eq(0)").css({"box-shadow":"none","border-color":"white"}))}),$("#input-password, #input-confirm-pass").keyup(function(){for(var e=$("#input-password").val(),r=e.split(""),s=0,i=0;i<r.length;i++)isNumeric(r[i])&&s++;8<=e.length&&e.length!=s&&0!=s&&($(".regform__error").remove(),isMessageVisible=!1,$("#input-password, #input-confirm-pass").css({"box-shadow":"none","border-color":"white"}))}),$("#input-password, #input-confirm-pass").keyup(function(){$("#input-password").val()===$("#input-confirm-pass").val()&&($(".regform__error").remove(),isMessageVisible=!1,$("#input-password, #input-confirm-pass").css({"box-shadow":"none","border-color":"white"}))}),$(".regform__agree-label").click(function(){1==$(".regform__agree-wrapper input:checked").length&&($(".regform__error").remove(),isMessageVisible=!1,$(".regform__agree-checkbox-span").css({"box-shadow":"none","border-color":"white"}))});