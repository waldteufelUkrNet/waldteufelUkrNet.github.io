"use strict";var selectedCountry,isCountriesListOpen=!1,blockedCountriesArr=["AU","IR","IL","CA","UA","US","JP","SY","KP"];function addCountryCode(e){var r=e,t=$(r).attr("data-phoneCode");$("#input-country-code").val(t);var i=$(r).attr("data-imgName"),o="assets/img/"+i;$(r).parent().siblings(".contactform__flag-wrapper").find(".contactform__flag-img").attr("src",o),$("#input-phone").removeAttr("readonly").focus(),selectedCountry=i.slice(0,-4)}$(".contactform__flag-wrapper-cover-for-click").click(function(){if(isCountriesListOpen)$(".contactform__countries-wrapper").css({height:"0px"}).css({display:"none"}),isCountriesListOpen=!1;else{if($(".contactform__countries-wrapper").css({display:"block"}).css({height:"190px"}),isCountriesListOpen=!0,$(".contactform__country").children().length)return;e:for(var e=0;e<countriesArr.length;e++){for(var r=0;r<blockedCountriesArr.length;r++)if(blockedCountriesArr[r]==countriesArr[e].ISOcode)continue e;var t='<div class="contactform__country" data-phoneCode="'+countriesArr[e].phoneCode+'" data-imgName="'+countriesArr[e].imgName+'" onclick="addCountryCode(this)">                       <div class="contactform__img-flag-wrapper">                         <img class="contactform__flag-img" src="assets/img/'+countriesArr[e].imgName+'", alt="country-flag">                       </div>                       <div class="contactform__country-name">'+countriesArr[e].nameEn+"</div>                     </div>";$(".contactform__countries-wrapper").append(t)}}}),$(document).click(function(e){isCountriesListOpen&&"contactform__flag-wrapper-cover-for-click"!=e.target.className&&($(".contactform__countries-wrapper").css({height:"0px"}).css({display:"none"}),isCountriesListOpen=!1)}),$("#input-phone").keypress(function(e){if(!((e=e||event).ctrlKey||e.altKey||e.metaKey)){var r,t=null!=(r=e).which?0==r.which||0==r.charCode?null:r.which<32?null:String.fromCharCode(r.which):r.keyCode<32?null:String.fromCharCode(r.keyCode);if(null!=t&&(t<"0"||"9"<t))return!1}});var dictionary={emptyField:{ru:"Данное поле не может быть пустым. Заполните поле!",en:"This field cannot be empty. Fill in the field!"},correctEmail:{ru:"Введите корректную эл. почту!",en:"Enter a valid e-mail!"},correctPhone:{ru:"Выберите код страны и введите корректный номер телефона!",en:"Select a country code and enter a valid phone number!"}},isMessageVisible=!1;function showErrorMessage(e,r,t,i){var o,a=$(e)[0],n=($(a).outerWidth(),$(a).position().left),s=t||$(a).position().top+$(a).outerHeight(),c=$(".language-switcher").attr("data-lang"),l=$('<div class="contactform__error"></div>').text(r[c]).append('<div class="error-triangle"></div>');o=i?i+"px":n+20+"px",$(l).css("top",s+10),$($(".contactform")[0]).append(l),$($(".error-triangle")[0]).css("left",o)}function isEmailValid(e){var r=calculateCharsInStr(e,"@");return 1==r&&(!((r=calculateCharsInStr(e,"."))<1)&&("@"!=e.charAt(0)&&"."!=e.charAt(0)&&"@"!=e.charAt(e.length-1)&&"."!=e.charAt(e.length-1)&&(-1==e.indexOf("@.")&&-1!=e.split("@")[1].indexOf("."))))}function calculateCharsInStr(e,r){for(var t=0,i=0;;){var o=e.indexOf(r,t);if(-1==o)break;i++,t=o+1}return i}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}$("#btnsubmit").click(function(){if($("#input-firstName").val().length<2){if(isMessageVisible)return;return $("#input-firstName").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-firstName",dictionary.emptyField),void(isMessageVisible=!0)}if(!isEmailValid($("#input-email").val())){if(isMessageVisible)return;return $("#input-email").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#input-email",dictionary.correctEmail),void(isMessageVisible=!0)}if($("#input-phone").val().length<7){if(isMessageVisible)return;return $(".contactform__phone-wrapper:eq(0)").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage(".contactform__phone-wrapper:eq(0)",dictionary.correctPhone),void(isMessageVisible=!0)}if($("#textarea").val().length<5){if(isMessageVisible)return;return $("#textarea").css({"box-shadow":"0 0 5px red","border-color":"red"}).focus(),showErrorMessage("#textarea",dictionary.emptyField),void(isMessageVisible=!0)}$("#input-firstName").val(""),$("#input-email").val(""),$("#textarea").val(""),$("#input-country-code").val("+000"),$(".contactform__flag-img").attr("src","assets/img/european_union.png"),alert("your message has been sent")}),$("#input-firstName").keyup(function(e){1<$("#input-firstName").val().length&&($(".contactform__error").remove(),isMessageVisible=!1,$("#input-firstName").css({"box-shadow":"none","border-color":"white"}))}),$("#input-email").keyup(function(){isEmailValid($("#input-email").val())&&($(".contactform__error").remove(),isMessageVisible=!1,$("#input-email").css({"box-shadow":"none","border-color":"white"}))}),$("#input-phone").keyup(function(e){6<$("#input-phone").val().length&&($(".contactform__error").remove(),isMessageVisible=!1,$(".contactform__phone-wrapper:eq(0)").css({"box-shadow":"none","border-color":"white"}))}),$("#textarea").keyup(function(e){4<$("#textarea").val().length&&($(".contactform__error").remove(),isMessageVisible=!1,$("#textarea").css({"box-shadow":"none","border-color":"white"}))});