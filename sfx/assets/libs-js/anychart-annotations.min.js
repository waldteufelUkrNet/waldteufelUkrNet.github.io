!function(i,h){if("object"==typeof module&&"object"==typeof module.exports){function t(t){if(!t.document)throw Error("AnyChart requires a window with a document");h.call(t,t,t.document);try{t.acgraph.isNodeJS="[object process]"==Object.prototype.toString.call(i.process)}catch(t){}return t.anychart}module.exports=i.document?t(i):t}else h.call(i,window,document)}("undefined"!=typeof window?window:this,function(Tt,t,i){var h,s,n=this.anychart;if(!n||!(s=n._))throw Error("anychart-base.min.js module should be included first. See modules explanation at https://docs.anychart.com/Quick_Start/Modules for details");h=n.$,s.annotations||(s.annotations=1,function(T){function u(t,i,h,s,n){var a,e,o=n.left+n.width,r=n.top+n.height,l=(s-i)/(h-t),c=!1;if((0,Tt.isNaN)(l))if(t<n.left||o<t||i<n.top||r<i)c=!0;else var u=a=t,f=e=i;else if(l)if((0,Tt.isFinite)(l)){var g=i-t*l,d=l*n.left+g,p=l*o+g;d<n.top&&p<n.top||r<d&&r<p?c=!0:(a=(n.top-g)/l,l=(r-g)/l,f=d<n.top?(u=a,n.top):r<d?(u=l,r):(u=n.left,d),e=p<n.top?n.top:r<p?(a=l,r):(a=o,p))}else t<n.left||o<t?c=!0:(u=a=t,f=n.top,e=r);else i<n.top||r<i?c=!0:(u=n.left,a=o,f=e=i);return c?null:((h<t||t==h&&s<i)&&(t=u,u=a,a=t,t=f,f=e,e=t),[u,f,a,e])}function K(t,i,h,s,n){if(n=u(t,i,h,s,n)){if(h-=t){s=n[0]-t;var a=n[2]-t}else{if(!(h=s-i))return n;s=n[1]-i,a=n[3]-i}a*h<0?n=null:h*s<0&&(n[0]=t,n[1]=i)}return n}function x(t,i,h,s,n){if(n=u(t,i,h,s,n)){var a;if(a=h-t)var e=n[0]-t,o=n[2]-t,r=n[0]-h,l=n[2]-h;else{if(!(a=s-i))return n;e=n[1]-i,o=n[3]-i,r=n[1]-s,l=n[3]-s}o*a<0||0<r*a?n=null:(e*a<0&&(n[0]=t,n[1]=i),0<l*a&&(n[2]=h,n[3]=s))}return n}function n(t){function i(){return new T.vw(!0,!0,!0)}T.X.call(this),this.Ia("chart.defaultAnnotationSettings.base"),this.eb=t,this.ta=this.D=null,this.state=T.Wk,this.Ea=0,this.ga=1&this.Te?"xAnchor":null,this.la=2&this.Te?"valueAnchor":null,this.rb=7<=this.Te,this.jf=!1,this.coords={},this.coords.xAnchor=Tt.NaN,this.coords.valueAnchor=Tt.NaN,this.coords.secondXAnchor=Tt.NaN,this.coords.secondValueAnchor=Tt.NaN,this.coords.thirdXAnchor=Tt.NaN,this.coords.thirdValueAnchor=Tt.NaN,this.G=null,this.ia=new T.I(0,0,0,0),this.mc=!0,T.R(this.xa,C),t={},T.R(t,this.gh()),this.ca=new T.Ew(this,t,T.Wk),this.ca.pa("markersFactoryConstructor",function(){return new T.vw(!0,!0)}),this.ca.pa("markersAfterInitCallback",T.Lw),t={},T.R(t,this.gh()),this.ya=new T.Ew(this,t,T.ln),this.ya.pa("labelsFactoryConstructor",T.Gw),this.ya.pa("markersFactoryConstructor",i),t={},T.R(t,this.gh()),this.Da=new T.Ew(this,t,T.mn),this.Da.pa("labelsFactoryConstructor",T.Gw),this.Da.pa("markersFactoryConstructor",i)}function s(t,i,h){t.P=i,t.U=h,t.u(128)}function h(t){t.mb(),t.ga&&(t.La[t.ga]=t.Wa().Kc((t.P-t.ia.left)/t.ia.width)),t.la&&(t.La[t.la]=t.bb().Kc((t.ia.Ra()-t.U)/t.ia.height)),t.P=t.U=Tt.NaN,t.va=!1,t.u(64)}function a(t,i,h,s,n){i&&(t.coords[i]=t.G[i]+s,t.La[i]=t.Wa().Kc((t.coords[i]-t.ia.left)/t.ia.width)),h&&(t.coords[h]=t.G[h]+n,t.La[h]=t.bb().Kc((t.ia.Ra()-t.coords[h])/t.ia.height))}function e(t){return t.mb(),!t.ga&&!t.la}function f(t,i){return t.ia.left+i*t.ia.width}function g(t,i){return t.ia.Ra()-i*t.ia.height}function i(t,i){if(!t)return E;var h=i+"|"+t+"|true",s=dt[h];if(!s){switch(i){case 2:s=T.Ok;break;case 3:s=T.Pk;break;default:s=T.Qk}dt[h]=s=T.qa(L,t,s,3==i,!0)}return s}function t(t){T.Wp.call(this),this.Ba=t,this.g=this.b=null,this.o=!1,this.f=[],this.lu(!1)}function o(t,i){if(t.o!=i){t.o=i,T.U(t.Ba);for(var h=0;h<t.f.length;h++){var s=t.f[h],n=i;s.la!=n&&(!(s.la=n)&&s.g&&(s.g.hc("mouseout",s.$R,!1,s),s.g.hc("mousedown",s.ZR,!1,s),T.Gd(T.Vj,"mouseup",s.OK,!1,s),T.Gd(T.Vj,"mousemove",s.OK,!1,s)),s.u(128,1))}t.Ba.da(!0)}}function r(t,i){if(T.z(i))var h=i,s=void 0;else T.D(i)&&(h=i.type,s=i);return h=T.ij(M,h,"line"),(h=new P[h](t)).Ia("chart.defaultAnnotationSettings."+T.el(h.Qa())),h.kA(),h.K(s),h}function l(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt),T.R(this.xa,ht)}function c(t){n.call(this,t),this.Ka=null,this.g=i("stroke",2),this.b=i("fill",1),this.f=i("hatchFill",3),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt),T.R(this.xa,ht)}function d(t){n.call(this,t),this.f=this.b=null,this.o=[],this.Ma=i("stroke",2),this.yc=i("trend",2),this.Za=!1,T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt),this.ca.pa("labelsAfterInitCallback",T.Kw)}function p(t,i){var h=t.WA().ag();return h=1-(i-h.top)/h.height,t.bb().Kc(h)}function k(t,i){var h=t.WA().ag();return h=(i-h.left)/h.width,t.Wa().Kc(h)}function v(t){d.call(this,t)}function y(t){d.call(this,t),this.ba=[],this.g=null,this.Sb=i("grid",2)}function b(t){d.call(this,t)}function m(t){d.call(this,t)}function A(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,q)}function B(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt)}function N(t){n.call(this,t),this.Ia("defaultFontSettings"),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,et),T.pp(this.xa,256,16,1,1),delete this.xa.fontFamily,delete this.xa.fontStyle,delete this.xa.fontVariant,delete this.xa.fontWeight,delete this.xa.fontSize,delete this.xa.fontColor,delete this.xa.fontOpacity}function R(t){return"left-top"==t||"left-center"==t||"left-bottom"==t}function w(t){return"right-top"==t||"right-center"==t||"right-bottom"==t}function F(t){return"left-top"==t||"center-top"==t||"right-top"==t}function I(t){return"left-bottom"==t||"center-bottom"==t||"right-bottom"==t}function X(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt)}function z(t){n.call(this,t),this.mc=!1,this.Ka=null,this.g=i("stroke",2),this.b=i("fill",1),this.f=i("hatchFill",3),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,nt)}function S(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt)}function G(t){n.call(this,t),this.Ka=null,this.g=i("stroke",2),this.b=i("fill",1),this.f=i("hatchFill",3),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt)}function U(t){n.call(this,t),this.Ka=null,this.g=i("stroke",2),this.b=i("fill",1),this.f=i("hatchFill",3),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt),T.R(this.xa,ht)}function j(t){n.call(this,t),this.Ka=null,this.g=i("stroke",2),this.b=i("fill",1),this.f=i("hatchFill",3),T.R(this.xa,Q),T.R(this.xa,q),T.R(this.xa,tt),T.R(this.xa,ht)}function D(t){n.call(this,t),this.Ka=null,this.b=i("stroke",2),T.R(this.xa,Q)}function O(t,i){T.X.call(this),(this.b=t).f&&t.f.push(this),this.Ea=i,this.Gf=[],this.g=this.f=null,this.la=!1,this.G=this.D=Tt.NaN,this.o=this.df=null}function J(t,i){var h=T.Ii(t.O().Ga());t.D=i.clientX-h.x,t.G=i.clientY-h.y}function W(t,i,h){var s=!h||i!=t.o;h?(t.Gf.push(i),t.o=null,t.f&&i.O(t.f)):t.o=i;var n=i.D!=t;i.va=!h,i.D=t,n&&i.u(64),i.qb(t),T.L(i,t.HW,t),s&&t.u(64,1)}function V(t,i){if(T.p(i)){if(T.jd(t.Gf),t.Gf.length=0,T.B(i))for(var h=0;h<i.length;h++)W(t,r(t.b,i[h]),!0);return t}return(0,T.Va)(t.Gf,function(t){return t.F()})}function Y(t){this.g=t,this.b=null,this.o=Tt.NaN,T.Bf.call(this,t.f.ea()),this.wa("start",this.mca,!1,this),this.wa("end",this.kca,!1,this)}var L=function(t,i,h,s,n,a,e){if(a=T.Uk(a),s&&a!=T.Wk){var o=n.Dc(t,a,i);if(h&&!0===o&&(o=i(n.eh())),T.p(o)){if(!T.E(o))return o;if(h)return h=n.oi(),i(o.call(h,h))}}return t=n.Dc(t,0,i),h&&!0===t&&(t=i(n.eh())),T.E(t)&&(h=h?n.oi():n.me(void 0,e),t=i(t.call(h,h))),o&&(h=n.me(t,e),t=i(o.call(h,h))),t},E=function(){return"none"},M={Jka:"ray",Bs:"line",Ija:"infinite-line",Gla:"vertical-line",Hja:"horizontal-line",Z4:"rectangle",U3:"ellipse",wla:"triangle",vla:"trend-channel",Lha:"andrews-pitchfork",sja:"fibonacci-fan",rja:"fibonacci-arc",tja:"fibonacci-retracement",uja:"fibonacci-timezones",fu:"marker",Lja:"label"},P={},H={};T.dp(H,0,"color",T.Ap),T.dp(H,0,"allowEdit",T.op),T.dp(H,0,"hoverGap",function(t){return T.tn(t,Tt.NaN,!0)});var C=[["color",16,1],["allowEdit",1024,1],["hoverGap",256,1]],$={};T.dp($,0,"xAnchor",T.np);var Q=[["xAnchor",192,1]],Z={};T.dp(Z,0,"valueAnchor",T.np);var q=[["valueAnchor",192,1]],_={};T.dp(_,0,"secondXAnchor",T.np),T.dp(_,0,"secondValueAnchor",T.np);var tt=[["secondXAnchor",192,1],["secondValueAnchor",192,1]],it={};T.dp(it,0,"thirdXAnchor",T.np),T.dp(it,0,"thirdValueAnchor",T.np);var ht=[["thirdXAnchor",192,1],["thirdValueAnchor",192,1]],st={};T.dp(st,0,"markerType",T.tj),T.dp(st,0,"anchor",T.mj),T.dp(st,0,"offsetX",T.mp),T.dp(st,0,"offsetY",T.mp);var nt=[["markerType",256,1],["anchor",256,1],["offsetX",256,1],["offsetY",256,1]],at=T.hp();delete at.fontFamily,delete at.fontStyle,delete at.fontVariant,delete at.fontWeight,delete at.fontSize,delete at.fontColor,delete at.fontOpacity,T.ep(at,[[0,"text",T.kp],[0,"anchor",T.mj],[0,"offsetX",T.mp],[0,"offsetY",T.mp],[0,"width",T.Ip],[0,"height",T.Ip]]);var et=[["text",256,1],["anchor",256,1],["offsetX",256,1],["offsetY",256,1],["width",256,1],["height",256,1]],ot=[["stroke",272,1]],rt=[["grid",16,1]],lt=[["size",256,1]],ct=[["fontFamily",256,1],["fontStyle",256,1],["fontVariant",256,1],["fontWeight",256,1],["fontSize",256,1],["fontColor",16,1],["fontOpacity",16,1],["fontDecoration",256,1]],ut=T.Fa([["fill",16,1],["hatchFill",16,1]],ot),ft=T.Fa(ot,[["trend",16,1]]),gt=[["labels",0,0]];T.H(n,T.Us),T.rp(n,["markers"],"normal"),T.S(n,H),T.g=n.prototype,T.g.gh=function(){return[["markers",0,0]]},T.g.Ta=function(t){return T.p(t)?(this.ca.K(t),this):this.ca},T.g.lb=function(t){return T.p(t)?(this.ya.K(t),this):this.ya},T.g.selected=function(t){return T.p(t)?(this.Da.K(t),this):this.Da},T.g.Dc=function(t,i){return(0==i?this.ca:1==i?this.ya:this.Da).i(t)},T.g.qa=2e3|T.Us.prototype.qa,T.g.ra=T.Us.prototype.ra,T.g.Te=0;var dt={};T.g=n.prototype,T.g.tc=null,T.g.cb=null,T.g.Qa=function(){return this.type},T.g.sc=function(){return this.eb.sc()},T.g.WA=function(){return this.D&&this.D.Ea},T.g.bb=function(t){if(T.p(t)){var i=T.Vr(this.tc,t,null,15,null,this.vM,this);return!i&&null!==t||(t=this.tc==i,i||T.Xp(this.tc,this.vM,this),(this.tc=i)&&i.da(t),t||this.u(64,1)),this}return(this.tc?this.tc:this.WA()&&this.WA().bb())||null},T.g.Wa=function(t){if(T.p(t)){var i=t&&T.E(t.Qa)&&t.Qa(),h=(i="stock-scatter-date-time"==i||"stock-ordinal-date-time"==i)?t:T.Vr(this.cb,t,null,15,null,this.vM,this);return!h&&null!==t||(t=this.cb==h,h||T.Xp(this.cb,this.vM,this),(this.cb=h)&&!i&&h.da(t),t||this.u(64,1)),this}return this.cb||this.sc().Wa()},T.g.xU=function(){this.G=this.coords,this.coords=T.Ic(this.coords)},T.g.uT=function(t,i,h){switch(t){case-1:3&this.Te&&(a(this,1&this.Te?"xAnchor":null,2&this.Te?"valueAnchor":null,i,h),7&this.Te&&(a(this,"secondXAnchor","secondValueAnchor",i,h),15&this.Te&&a(this,"thirdXAnchor","thirdValueAnchor",i,h)));break;case 0:a(this,1&this.Te?"xAnchor":null,2&this.Te?"valueAnchor":null,i,h);break;case 1:a(this,"secondXAnchor","secondValueAnchor",i,h);break;case 2:a(this,"thirdXAnchor","thirdValueAnchor",i,h)}return this.u(768),this.X(),this},T.g.Es=function(t){this.state=t,this.u(528)},T.g.mb=function(){if(this.J(64)){var t,i,h,s,n,a=this.Wa(),e=this.bb();if(!a||!e)return!1;var o=t=i=h=s=n=Tt.NaN,r=0,l=0;1&this.Te&&(o=f(this,a.transform(this.md("xAnchor"),.5)),(0,Tt.isNaN)(o)?l|=1:r|=1),2&this.Te&&(t=g(this,e.transform(this.md("valueAnchor"),.5)),(0,Tt.isNaN)(t)?l|=2:r|=2),4&this.Te&&(i=f(this,a.transform(this.md("secondXAnchor"),.5)),h=g(this,e.transform(this.md("secondValueAnchor"),.5)),(0,Tt.isNaN)(i)||(0,Tt.isNaN)(h)?l|=4:r|=4),8&this.Te&&(s=f(this,a.transform(this.md("thirdXAnchor"),.5)),n=g(this,e.transform(this.md("thirdValueAnchor"),.5)),(0,Tt.isNaN)(s)||(0,Tt.isNaN)(n)?l|=8:r|=8),a=!1;var c=e=null;3&l?(e=1&this.Te?"xAnchor":null,c=2&this.Te?"valueAnchor":null,a=3<this.Te,this.Ja=3&this.Te):4&l?(e="secondXAnchor",c="secondValueAnchor",a=7<this.Te,this.Ja=4):8&l?(e="thirdXAnchor",c="thirdValueAnchor",this.Ja=8):this.Ja=0,this.coords.xAnchor=o,this.coords.valueAnchor=t,this.coords.secondXAnchor=i,this.coords.secondValueAnchor=h,this.coords.thirdXAnchor=s,this.coords.thirdValueAnchor=n,this.Ea=r,this.ga=e,this.la=c,this.rb=a,this.jf=this.im(),(0,Tt.isNaN)(this.P)||(0,Tt.isNaN)(this.U)||this.u(128),this.u(768),this.I(64)}return this.J(128)&&((0,Tt.isNaN)(this.P)||(0,Tt.isNaN)(this.U)?this.N=this.Ea:(this.ga&&(this.coords[this.ga]=this.P),this.la&&(this.coords[this.la]=this.U),this.N=this.Ea|this.Ja),this.u(768),this.I(128)),this.jf||!(0,Tt.isNaN)(this.P)&&!(0,Tt.isNaN)(this.U)},T.g.im=function(){var t=this.ia;if(2==this.Te){var i=this.coords.valueAnchor;return i>=t.top&&i<=t.Ra()}(i=[]).push(this.coords.xAnchor),i.push(this.coords.secondXAnchor),i.push(this.coords.thirdXAnchor);for(var h=!0,s=!0,n=0;n<i.length;n++)(0,Tt.isNaN)(i[n])||(h=h&&i[n]<t.left,s=s&&i[n]>t.$a());return!h&&!s},T.g.X=function(){if(!this.xc())return this;T.U(this),this.J(4)&&(this.ia=this.sb(),this.u(64),this.I(4)),this.Uh();var t=this.mb();if(this.mM(),this.J(16)&&(this.sh(this.state),this.I(16)),this.J(256)){if(!t)return this.remove(),this.u(2),this.da(!1),this;15==this.Te&&15==this.N?this.PJ(this.coords.xAnchor,this.coords.valueAnchor,this.coords.secondXAnchor,this.coords.secondValueAnchor,this.coords.thirdXAnchor,this.coords.thirdValueAnchor):7<=this.Te&&7<=this.N?this.xr(this.coords.xAnchor,this.coords.valueAnchor,this.coords.secondXAnchor,this.coords.secondValueAnchor):(3<=this.Te&&3<=this.N||this.N==this.Te)&&this.Jn(this.coords.xAnchor,this.coords.valueAnchor),this.I(256)}if(this.J(1024)&&(this.ta.td(!this.i("allowEdit")),this.I(1024)),this.J(512)){if(this.mc){t=this.Ta().Gb();var i=this.lb().Gb().enabled()||this.selected().Gb().enabled();T.U(t),!1!==t.enabled()||i?(t.O(this.ta),t.clear(),t.fa(this.ia),t.Ch=5,this.LJ(this.state)):(t.clear(),t.O(null)),t.X(),t.da(!1)}this.I(512)}return this.J(8)&&(this.ta.zIndex(this.zIndex()),this.I(8)),this.J(2)&&(this.ta.parent(this.O()),this.I(2)),this.da(!1),this},T.g.mM=function(){},T.g.xc=function(){var t=n.B.xc.call(this);return!t||this.D&&this.Wa()&&this.bb()||(this.remove(),this.u(2),t=!1),t},T.g.remove=function(){this.ta&&this.ta.remove();var t=this.Ta().Gb();t.remove(),t.u(2)},T.g.Uh=function(){this.ta||(this.ta=T.Zi(),this.ta.cursor("move"),this.ta.tag=this)},T.g.Jn=function(){},T.g.xr=function(t,i){this.Jn(t,i)},T.g.PJ=function(t,i,h,s){this.xr(t,i,h,s)},T.g.sh=function(){},T.g.me=function(t){return{sourceColor:t||this.i("color")||"blue"}},T.g.oi=function(){return{sourceHatchFill:this.eh()}},T.g.eh=function(){return T.Wb("diagonal-brick")},T.g.vM=function(t){T.W(t,2)&&this.u(64,1)},T.g.Io=function(t){T.W(t,1)&&this.u(512,1)},T.g.KU=T.ia,T.g.LJ=function(t){var i=this.Ta().Gb();switch(t=T.Uk(t)){case T.ln:t=this.lb().Gb();break;case T.mn:t=this.selected().Gb();break;default:t=null}if(t&&null!==t.enabled()?t.enabled():i.enabled())for(var h=this.rY(),s=0;s<h.length;s++){var n=h[s],a=i.Bq(s);a?a.Cc(n):a=i.add(n,s),a.yi(),T.yw(a,t||i),a.gd(),a.X(),this.KU(a,s)}else i.clear()},T.g.rY=function(){var t=[];if(1==this.Te){var i=this.coords.xAnchor;(0,Tt.isNaN)(i)||t.push({x:i,y:this.ia.top+this.ia.height/2})}else 2==this.Te?(i=this.coords.valueAnchor,(0,Tt.isNaN)(i)||t.push({x:this.ia.left+this.ia.width/2,y:i})):this.Te&this.N&3&&(t.push({x:this.coords.xAnchor,y:this.coords.valueAnchor}),this.Te&this.N&4&&(t.push({x:this.coords.secondXAnchor,y:this.coords.secondValueAnchor}),this.Te&this.N&8&&t.push({x:this.coords.thirdXAnchor,y:this.coords.thirdValueAnchor})));return(0,T.Va)(t,function(t){return{value:t}})},T.g.select=function(){this.D.b.select(this)},T.g.Pd=function(){this.D.b.Pd()},T.g.jh=function(t){return null!=this.La[t]},T.g.kA=function(){"label"==T.el(this.Qa())&&this.ca.Ia("defaultFontSettings"),T.V(this,"normal",this.ca),this.ca.ja(!0,{}),T.V(this,"hovered",this.ya),this.ya.ja(!0,{}),T.V(this,"selected",this.Da),this.Da.ja(!0,{})},T.g.F=function(){var t=n.B.F.call(this);return t.type=this.Qa(),T.Bp(this,H,t,"Annotation"),t.normal=this.ca.F(),t.hovered=this.ya.F(),t.selected=this.Da.F(),t},T.g.Y=function(t,i){n.B.Y.call(this,t,i),T.tp(this,H,t),this.ca.ja(!!i,t),this.ca.ja(!!i,t.normal),this.ya.ja(!!i,t.hovered),this.Da.ja(!!i,t.selected)},T.g.R=function(){T.hd(this.ta),this.ta=null,delete this.eb,this.tc=this.cb=this.D=null,delete this.La,delete this.ma,n.B.R.call(this)};var pt=n.prototype;pt.getType=pt.Qa,pt.getChart=pt.sc,pt.getPlot=pt.WA,pt.yScale=pt.bb,pt.xScale=pt.Wa,pt.select=pt.select,pt.normal=pt.Ta,pt.hovered=pt.lb,pt.selected=pt.selected,T.H(t,T.Wp),T.g=t.prototype,T.g.sc=function(){return this.Ba},T.g.xj=function(t){this.b!=t&&this.g!=t&&(this.Cd(),t.Es(T.ln),this.lu()&&t.X()),this.g=t},T.g.Cd=function(){this.g&&(this.g!=this.b&&(this.g.Es(T.Wk),this.lu()&&this.g.X()),this.g=null)},T.g.select=function(t){if(this.b!=t){if(this.Pd(),this.b)return this;this.Ba.dispatchEvent({type:"annotationSelect",annotation:t})&&((this.b=t).Es(T.mn),this.lu()&&e(t)?t.X():o(this,!0))}return this},T.g.Pd=function(){return this.b&&this.Ba.dispatchEvent({type:"annotationUnselect",annotation:this.b})&&(this.b.Es(this.g==this.b?T.ln:T.Wk),this.lu()&&this.b.X(),this.b=null,o(this,!1)),this},T.g.S6=function(){return this.b},T.g.lu=function(t){return T.p(t)?(this.D=!!t,this):this.D},T.g.T6=function(){for(var t=0;t<this.f.length;t++)this.f[t].IW();return this},T.g.U6=function(t){var i=t.D;return this.b==t&&(this.b=null,o(this,!1)),i?i.uO(t):T.hd(t),this},T.g.od=function(t){return this.lu()?(this.tO(),t=r(this,t),this.select(t),this.b||(T.hd(t),t=null),t):null},T.g.tO=function(){if(T.U(this.Ba),this.b&&!e(this.b)){var t=this.b.D;t?t.uO(this.b):T.hd(this.b),this.b=null}o(this,!1),this.Ba.da(!0)},T.g.R=function(){T.jd(this.f),this.f=null,t.B.R.call(this)};var vt=t.prototype;vt.startDrawing=vt.od,vt.cancelDrawing=vt.tO,vt.getSelectedAnnotation=vt.S6,vt.removeAnnotation=vt.U6,vt.removeAllAnnotations=vt.T6,vt.select=vt.select,vt.unselect=vt.Pd,T.F("anychart.annotations.ChartController",t),T.H(l,n),T.rp(l,["stroke"],"normal"),T.S(l,$),T.S(l,Z),T.S(l,_),T.S(l,it),P["andrews-pitchfork"]=l,T.g=l.prototype,T.g.type="andrews-pitchfork",T.g.Te=15,T.g.gh=function(){var t=l.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){l.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){for(var n=0;n<this.Ka.length;n++){var a=this.Ka[n];a.clear(),a.moveTo(t,i).lineTo(t,i),a.moveTo(h,s).lineTo(h,s)}},T.g.PJ=function(t,i,h,s,n,a){var e=(h+n)/2-t,o=(s+a)/2-i;for(e||o||(e=10),t=K(t,i,t+e,i+o,this.ia),i=K(h,s,h+e,s+o,this.ia),e=K(n,a,n+e,a+o,this.ia),h=x(h,s,n,a,this.ia),s=0;s<this.Ka.length;s++)(n=this.Ka[s]).clear(),a=!1,i&&(n.moveTo(i[2],i[3]).lineTo(i[0],i[1]),a=!0),a=!!h&&(a?n.lineTo(h[0],h[1]):n.moveTo(h[0],h[1]),n.lineTo(h[2],h[3]),!0),e&&(a?n.lineTo(e[0],e[1]):n.moveTo(e[0],e[1]),n.lineTo(e[2],e[3])),t&&n.moveTo(t[0],t[1]).lineTo(t[2],t[3])},T.g.sh=function(t){l.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.im=function(){var t=l.B.im.call(this);if(!t){t=this.coords.xAnchor;var i=(this.coords.secondXAnchor+this.coords.thirdXAnchor)/2-t;t=!(0,Tt.isNaN)(i)&&!(t<this.ia.left&&i<=0||t>this.ia.$a()&&0<=i)}return t},T.g.F=function(){var t=l.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),T.Bp(this,it,t,"Annotation"),t},T.g.Y=function(t,i){T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t),T.tp(this,it,t),l.B.Y.call(this,t,i)},T.g.R=function(){l.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(c,n),T.rp(c,["fill","hatchFill","stroke"],"normal"),T.S(c,$),T.S(c,Z),T.S(c,_),T.S(c,it),P.ellipse=c,T.g=c.prototype,T.g.type="ellipse",T.g.Te=7,T.g.gh=function(){var t=c.B.gh.call(this);return T.Fa(t,ut)},T.g.Uh=function(){c.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(1),this.Ka[2].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){var n=(i+s)/2;for(h=(t-h)/2,i=(i-s)/2,s=0;s<this.Ka.length;s++){var a=this.Ka[s];a.clear(),a.moveTo(t,n),a.arcTo(h,i,0,360)}},T.g.sh=function(t){c.B.sh.call(this,t),this.Ka[0].stroke(this.g(this,t)),this.Ka[0].fill(this.b(this,t)),this.Ka[1].stroke(null).fill(this.f(this,t)),this.Ka[2].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=c.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){c.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){c.B.R.call(this),T.jd(this.Ka),delete this.g,delete this.b,delete this.f},T.H(d,n),T.rp(d,["stroke","trend","labels"],"normal"),T.S(d,$),T.S(d,Z),T.S(d,_),T.g=d.prototype,T.g.qa=6144|n.prototype.qa,T.g.Te=7,T.g.lI=function(t){if(T.p(t)){if(T.B(t)){for(var i=this.o.length=0;i<t.length;i++){var h=T.N(t[i]);(0,Tt.isNaN)(h)||this.o.push(h)}this.u(6400,1)}return this}return T.Ia(this.o,0)},T.g.gh=function(){var t=d.B.gh.call(this);return T.Fa(t,gt,ft,gt)},T.g.Es=function(t){d.B.Es.call(this,t),this.u(2048)},T.g.Uh=function(){d.B.Uh.call(this),this.b||(this.b=[this.ta.path(),this.ta.path()],this.b[0].zIndex(2),this.b[1].zIndex(3))},T.g.mM=function(){if(this.J(4096)){var t;for(this.f||(this.f=[]),t=this.f.length;t<this.o.length;t++)this.f.push(this.ta.path().zIndex(0));for(t=this.o.length;t<this.f.length;t++)T.hd(this.f[t]);this.f.length=this.o.length,this.u(2304),this.I(4096)}if(this.J(256)&&this.u(2048),this.J(2048)){this.Za=!1,t=this.Ta().labels();var i=this.lb().labels().enabled()||this.selected().labels().enabled();T.U(t),7!=this.N||!1===t.enabled()&&!i?(t.clear(),t.O(null)):(t.O(this.ta),t.clear(),t.fa(this.ia),t.Ch=4,this.Za=!0,this.u(256)),t.X(),(i=t.Ul())&&i.td(!0),t.da(!1),this.I(2048)}},T.g.Jn=function(t,i){for(var h=0;h<this.b.length;h++){var s=this.b[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){for(var n=0;n<this.b.length;n++){var a=this.b[n];a.clear(),a.moveTo(t,i).lineTo(h,s)}for(n=0;n<this.f.length;n++)this.f[n].clear();var e;t=this.Ta().labels(),e=this.state&T.mn?this.selected().labels():this.state&T.ln?this.lb().labels():null,i=!this.Za||e&&null!==e.enabled()?e.enabled():t.enabled(),T.U(t),this.yQ(t,e,i),i||t.clear(),t.X(),t.da(!1)},T.g.yQ=function(t,i,h){for(var s=0;s<this.o.length;s++){var n=this.f[s],a=n.stroke();this.jF(s,this.o[s],n,this.b[1],t,i,h,T.Tn(a))}},T.g.jF=function(){},T.g.sh=function(t){d.B.sh.call(this,t);var i=this.yc(this,t);for(T.p(i)||(i=this.Ma(this,t)),this.b[0].fill(null).stroke(i),this.b[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap()),i=0;i<this.f.length;i++)this.f[i].fill(null).stroke(this.Ma(this,t,i))},T.g.me=function(t,i){var h=d.B.me.call(this,t,i);return T.p(i)&&(h.level=this.o[i]),h},T.g.Fd=function(t){T.W(t,1)&&this.u(2048,1)},T.g.Ec=function(t,i,h){return this.Td||(this.Td=new T.$u),T.Lt(this.Td,{annotation:{value:this,type:""},level:{value:t,type:"number"},levelValue:{value:h?i:this.bb().dD(i,2),type:h?"date-time":"number"},rawLevelValue:{value:i,type:h?"date-time":"number"}}),this.Td},T.g.pf=function(t,i,h,s,n,a){if(s&&n){var e=i.Wd(t);if(e?(e.Nf(s),e.Cc(n)):e=i.add(s,n,t),e.yi(),T.yt(e,h),a&&e.Dk(a),e.X(),(t=i.Qk(e))&&t.length){for((i=this.b[1]).moveTo(t[0],t[1]),h=2;h<t.length;h+=2)i.lineTo(t[h],t[h+1]);i.close()}}else i.clear(t)},T.g.kA=function(t){d.B.kA.call(this,t),this.lI(this.i("levels"))},T.g.F=function(){var t=d.B.F.call(this);return t.levels=this.lI(),T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){d.B.Y.call(this,t,i),this.lI(t.levels),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){d.B.R.call(this),T.jd(this.b),T.jd(this.f),this.f=this.b=null,delete this.Ma,delete this.yc};var bt=d.prototype;bt.levels=bt.lI,T.H(v,d),(P["fibonacci-arc"]=v).prototype.type="fibonacci-arc",v.prototype.jF=function(t,i,h,s,n,a,e){var o=this.coords.valueAnchor,r=this.coords.secondXAnchor,l=this.coords.secondValueAnchor,c=l+i*(o-l),u=T.Wl(r+i*(this.coords.xAnchor-r),c,r,l);c<l?(h.je(r,l,u,u,180,180),s.je(r,l,u,u,180,180)):(h.je(r,l,u,u,0,180),s.je(r,l,u,u,0,180)),e&&(h=o<l?(s=l-u,"center-bottom"):(s=l+u,"center-top"),r={x:r,y:s},this.pf(t,n,a,this.Ec(i,p(this,s),!1),{value:r},h))},v.prototype.im=function(){var t=v.B.im.call(this);if(!t){var i=this.coords.xAnchor,h=this.coords.valueAnchor;t=this.coords.secondXAnchor;var s=this.coords.secondValueAnchor,n=Math.max.apply(Math,this.o);i=T.Wl(t+n*(i-t),s+n*(h-s),t,s),t=!(0,Tt.isNaN)(i)&&!(t+i<this.ia.left||t-i>this.ia.$a())}return t},T.H(y,d),T.rp(y,["grid"],"normal"),P["fibonacci-fan"]=y,T.g=y.prototype,T.g.type="fibonacci-fan",T.g.fN=function(t){if(T.p(t)){if(T.B(t)){for(var i=this.ba.length=0;i<t.length;i++){var h=T.N(t[i]);(0,Tt.isNaN)(h)||this.ba.push(h)}this.u(6400,1)}return this}return T.Ia(this.ba,0)},T.g.gh=function(){var t=y.B.gh.call(this);return T.Fa(t,rt)},T.g.yQ=function(t,i,h){var s,n;for(s=0;s<this.g.length;s++)this.g[s].clear();for(y.B.yQ.call(this,t,i,h),s=0,n=this.o.length;s<this.ba.length;s++,n++){var a=this.f[n],e=a.stroke(),o=n,r=this.ba[s],l=a,c=this.b[1];a=t;var u=i,f=h,g=T.Tn(e),d=this.coords.xAnchor;e=this.coords.valueAnchor;var p=this.coords.secondXAnchor,v=this.coords.secondValueAnchor,b=d+(p-d)*r,m=this.g[o],A=m.stroke();d==(p=b)&&(p=d=T.O(d,g)),b=T.O(b,T.Tn(A)),g=K(d,e,p,v,this.ia),d=x(b,e,b,v,this.ia),g&&(l.moveTo(g[0],g[1]).lineTo(g[2],g[3]),c.moveTo(g[0],g[1]).lineTo(g[2],g[3])),d&&(m.moveTo(d[0],d[1]).lineTo(d[2],d[3]),c.moveTo(d[0],d[1]).lineTo(d[2],d[3])),f&&this.ia.left<=b&&b<=this.ia.$a()&&(l={value:{x:b,y:e}},this.pf(o,a,u,this.Ec(r,k(this,b),!0),l,e<v?"center-bottom":"center-top"))}},T.g.jF=function(t,i,h,s,n,a,e,o){var r=this.coords.xAnchor,l=this.coords.valueAnchor,c=this.coords.secondXAnchor,u=this.coords.secondValueAnchor,f=l+(u-l)*i,g=this.g[t],d=g.stroke();l==(u=f)&&(u=l=T.O(l,o)),f=T.O(f,T.Tn(d)),o=K(r,l,c,u,this.ia),l=x(r,f,c,f,this.ia),o&&(h.moveTo(o[0],o[1]).lineTo(o[2],o[3]),s.moveTo(o[0],o[1]).lineTo(o[2],o[3])),l&&(g.moveTo(l[0],l[1]).lineTo(l[2],l[3]),s.moveTo(l[0],l[1]).lineTo(l[2],l[3])),e&&this.ia.left<=r&&r<=this.ia.$a()&&(h={value:{x:r,y:f}},this.pf(t,n,a,this.Ec(i,p(this,f),!1),h,r<c?"right-center":"left-center"))},T.g.im=function(){var t=y.B.im.call(this);if(!t){t=this.coords.xAnchor;var i=this.coords.secondXAnchor-t;t=!(0,Tt.isNaN)(i)&&!(t<this.ia.left&&i<=0||t>this.ia.$a()&&0<=i)}return t},T.g.sh=function(t){y.B.sh.call(this,t);for(var i=0;i<this.g.length;i++){var h=this.Sb(this,t,i);T.p(h)||(h=this.Ma(this,t,i)),this.g[i].fill(null).stroke(h)}},T.g.me=function(t,i){var h={sourceColor:t||this.i("color")||"blue"};if(T.p(i)){h.isTimeLevel=i>=this.o.length;var s=h.isTimeLevel?this.ba[i-this.o.length]:this.o[i];h.levelRatio=s,h.isTimeLevel?h.timeLevel=s:h.level=s}return h},T.g.Ec=function(t,i,h){return this.Td||(this.Td=new T.$u),(t={annotation:{value:this,type:""},level:{value:t,type:"number"},levelRatio:{value:t,type:"number"},levelValue:{value:h?i:this.bb().dD(i,2),type:h?"date-time":"number"},rawLevelValue:{value:i,type:h?"date-time":"number"}}).isTimeLevel={value:h,type:""},T.Lt(this.Td,t),this.Td},T.g.mM=function(){if(this.J(4096)){this.f||(this.f=[]),this.g||(this.g=[]);var t,i=this.o.length+this.ba.length;for(t=this.f.length;t<i;t++)this.f.push(this.ta.path().zIndex(0));for(t=i;t<this.f.length;t++)T.hd(this.f[t]);for(this.f.length=i,t=this.g.length;t<i;t++)this.g.push(this.ta.path().zIndex(0));for(t=i;t<this.g.length;t++)T.hd(this.g[t]);this.g.length=i,this.u(2304),this.I(4096)}y.B.mM.call(this)},T.g.kA=function(t){y.B.kA.call(this,t),this.fN(this.i("timeLevels"))},T.g.F=function(){var t=y.B.F.call(this);return t.timeLevels=this.fN(),t},T.g.Y=function(t,i){y.B.Y.call(this,t,i),this.fN(t.timeLevels)},T.g.R=function(){y.B.R.call(this),T.jd(this.g),this.g=null,delete this.Sb};var mt=y.prototype;mt.timeLevels=mt.fN,T.H(b,d),(P["fibonacci-retracement"]=b).prototype.type="fibonacci-retracement",b.prototype.jF=function(t,i,h,s,n,a,e,o){var r=this.coords.secondValueAnchor,l=Math.min(this.coords.xAnchor,this.coords.secondXAnchor);o=T.O(r+(this.coords.valueAnchor-r)*i,o),(r=K(l,o,l+10,o,this.ia))&&(h.moveTo(r[0],r[1]).lineTo(r[2],r[3]),s.moveTo(r[0],r[1]).lineTo(r[2],r[3])),e&&(h={value:{x:l,y:o}},this.pf(t,n,a,this.Ec(i,p(this,o),!1),h))},b.prototype.im=function(){var t=b.B.im.call(this);return t||(t=Math.min(this.coords.xAnchor,this.coords.secondXAnchor),t=!(0,Tt.isNaN)(t)&&t<=this.ia.$a()),t},T.H(m,d),(P["fibonacci-timezones"]=m).prototype.type="fibonacci-timezones",m.prototype.jF=function(t,i,h,s,n,a,e,o){var r=this.coords.secondXAnchor;if(o=T.O(r+Math.abs(this.coords.xAnchor-r)*i,o),this.ia.left<=o&&o<=this.ia.$a()){r=this.ia.top;var l=this.ia.Ra();h.moveTo(o,r).lineTo(o,l),s.moveTo(o,r).lineTo(o,l),e&&(h={value:{x:o,y:l}},this.pf(t,n,a,this.Ec(i,k(this,o),!0),h,"left-bottom"))}},m.prototype.im=function(){var t=m.B.im.call(this);return t||(t=Math.min(this.coords.xAnchor,this.coords.secondXAnchor),t=!(0,Tt.isNaN)(t)&&t<=this.ia.$a()),t},T.H(A,n),T.rp(A,["stroke"],"normal"),T.S(A,Z),P["horizontal-line"]=A,T.g=A.prototype,T.g.type="horizontal-line",T.g.Te=2,T.g.gh=function(){var t=A.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){A.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t,i){i=T.O(i,T.Tn(this.Ka[0].stroke()));for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(this.ia.left,i).lineTo(this.ia.$a(),i)}},T.g.sh=function(t){A.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=A.B.F.call(this);return T.Bp(this,Z,t,"Annotation"),t},T.g.Y=function(t,i){A.B.Y.call(this,t,i),T.tp(this,Z,t)},T.g.R=function(){A.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(B,n),T.rp(B,["stroke"],"normal"),T.S(B,$),T.S(B,Z),T.S(B,_),P["infinite-line"]=B,T.g=B.prototype,T.g.type="infinite-line",T.g.Te=7,T.g.gh=function(){var t=B.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){B.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){var n=T.Tn(this.Ka[0].stroke());for(t==h&&(t=h=T.O(t,n)),i==s&&(i=s=T.O(i,n)),t=u(t,i,h,s,this.ia),i=0;i<this.Ka.length;i++)(h=this.Ka[i]).clear(),t&&h.moveTo(t[0],t[1]).lineTo(t[2],t[3])},T.g.sh=function(t){B.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.im=function(){return!0},T.g.F=function(){var t=B.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){B.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){B.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(N,n),T.S(N,$),T.S(N,Z),T.S(N,at),T.rp(N,"fontFamily fontStyle fontVariant fontWeight fontSize fontColor fontOpacity fontDecoration".split(" "),"normal"),P.label=N,T.g=N.prototype,T.g.type="label",T.g.Te=3,T.g.background=function(t){return this.Ha||(this.Ha=new T.Ws,T.L(this.Ha,this.Qf,this),T.V(this,"background",this.Ha)),T.p(t)?(this.Ha.K(t),this):this.Ha},T.g.padding=function(t,i,h,s){return this.Oa||(this.Oa=new T.dt,T.L(this.Oa,this.Cl,this),T.V(this,"padding",this.Oa)),T.p(t)?(this.Oa.K.apply(this.Oa,arguments),this):this.Oa},T.g.Cl=function(t){T.W(t,2)&&this.u(256,1)},T.g.Qf=function(t){T.W(t,1)&&this.u(256,1)},T.g.gh=function(){var t=N.B.gh.call(this);return T.Fa(t,ct)},T.g.Es=function(t){N.B.Es.call(this,t),this.u(256)},T.g.Dc=function(t,i){var h=0==i?this.Ta():1==i?this.lb():this.selected(),s=this.Ta().i(t);return(i?h.i(t):s)||s},T.g.rY=function(){var t=[];return t.push({x:this.coords.xAnchor,y:this.coords.valueAnchor},{x:this.gl.left,y:this.gl.top},{x:this.gl.$a(),y:this.gl.top},{x:this.gl.$a(),y:this.gl.Ra()},{x:this.gl.left,y:this.gl.Ra()}),(0,T.Va)(t,function(t){return{value:t}})},T.g.im=function(){this.J(256)&&(this.Bh(this.state),this.zn(0,0));var t=this.ia,i=Math.abs(this.gl.width),h=this.coords.xAnchor,s=this.i("anchor");return!((i=R(s)?(s=h)+i:"center-top"==s||"center"==s||"center-bottom"==s?(s=h-i/2,h+i/2):(s=h-i,h))<t.left||s>t.$a())},T.g.KU=function(t,i){if(i<1)N.B.KU.call(this,t,i);else{var h=this.gl.width*this.gl.height<0,s=h?"nesw-resize":"nwse-resize";h=h?"nwse-resize":"nesw-resize",t.Kd().cursor(i%2?s:h)}},T.g.xU=function(){N.B.xU.call(this),this.b=this.gl.clone()},T.g.uT=function(t,i,h){if(t<1)return N.B.uT.call(this,t,i,h);var s=this.i("anchor");switch(t){case 1:this.La.width=this.b.width-i,this.La.height=this.b.height-h,R(s)&&(this.coords.xAnchor=this.G.xAnchor+i),F(s)&&(this.coords.valueAnchor=this.G.valueAnchor+h);break;case 2:this.La.width=this.b.width+i,this.La.height=this.b.height-h,w(s)&&(this.coords.xAnchor=this.G.xAnchor+i),F(s)&&(this.coords.valueAnchor=this.G.valueAnchor+h);break;case 3:this.La.width=this.b.width+i,this.La.height=this.b.height+h,w(s)&&(this.coords.xAnchor=this.G.xAnchor+i),I(s)&&(this.coords.valueAnchor=this.G.valueAnchor+h);break;case 4:this.La.width=this.b.width-i,this.La.height=this.b.height+h,R(s)&&(this.coords.xAnchor=this.G.xAnchor+i),I(s)&&(this.coords.valueAnchor=this.G.valueAnchor+h)}return this.La.xAnchor=this.Wa().Kc((this.coords.xAnchor-this.ia.left)/this.ia.width),this.La.valueAnchor=this.bb().Kc((this.ia.Ra()-this.coords.valueAnchor)/this.ia.height),this.u(768),this.X(),this},T.g.Bh=function(t){var i=this.i("text"),h=this.i("useHtml");T.p(i)&&(h?this.Tc.htmlText(i):this.Tc.text(i)),this.Tc.fontFamily(this.Dc("fontFamily",t,null)),this.Tc.fontStyle(this.Dc("fontStyle",t,null)),this.Tc.fontVariant(this.Dc("fontVariant",t,null)),this.Tc.fontWeight(this.Dc("fontWeight",t,null)),this.Tc.fontSize(this.Dc("fontSize",t,null)),this.Tc.rq(this.Dc("fontDecoration",t,null)),this.Tc.direction(this.i("textDirection")),this.Tc.du(this.i("wordBreak")),this.Tc.wordWrap(this.i("wordWrap")),this.Tc.letterSpacing(this.i("letterSpacing")),this.Tc.lineHeight(this.i("lineHeight")),this.Tc.textIndent(this.i("textIndent")),this.Tc.vAlign(this.i("vAlign")),this.Tc.Wl(this.i("hAlign")),this.Tc.textOverflow(this.i("textOverflow")),this.Tc.bm(this.i("selectable")),this.Tc.td(this.i("disablePointerEvents"))},T.g.Uh=function(){N.B.Uh.call(this),this.Tc||(this.Tc=this.ta.text(),this.Tc.zIndex(2)),this.pt||(this.pt=this.ta.rect(),this.pt.fill(T.Rk).zIndex(3)),this.background().O(this.ta).zIndex(0)},T.g.zn=function(t,i){var h=this.fa(),s=this.i("width"),n=this.i("height"),a=0,e=0;if(h){var o=h.width;h=h.height,o=null!=s?(this.ii=s=T.M(s,o),a=Math.abs(s),!1):!(s=0),h=null!=n?(this.hi=n=T.M(n,h),e=Math.abs(n),!1):!(n=0)}else T.sn(s)?(o=!0,s=0):(o=!1,this.ii=s=T.N(s),a=Math.abs(s)),T.sn(n)?(h=!0,n=0):(h=!1,this.hi=n=T.N(n),e=Math.abs(n));var r=this.padding();this.Tc.width(null),this.Tc.height(null),o?(this.Hm=s+=this.Tc.kb().width,this.ii=r.Yj(s)):this.Hm=r.ig(a),this.Tc.width(this.Hm),h?(this.Fm=n+=this.Tc.kb().height,this.hi=r.nj(n)):this.Fm=r.Ah(e),this.Tc.height(this.Fm),this.gg=T.M(r.i("left"),this.ii),this.hg=T.M(r.i("top"),this.hi),o=this.i("anchor"),n={x:t,y:i},s=T.un(T.Zl(0,0,this.ii,this.hi),o),n.x-=s.x,n.y-=s.y,T.Nn(n,o,this.i("offsetX")||0,this.i("offsetY")||0),this.gg+=n.x-(this.ii<0?a:0),this.hg+=n.y-(this.hi<0?e:0),this.gl=new T.I(n.x,n.y,this.ii,this.hi)},T.g.Jn=function(t,i){this.Bh(this.state),this.zn(t,i),this.Tc.x(this.gg),this.Tc.y(this.hg),this.Tc.clip(this.gl),this.pt.stroke(T.Rk,2*this.hoverGap()).nf(this.gl),T.U(this.background()).fa(this.gl).X().da(!1),this.u(512)},T.g.sh=function(t){N.B.sh.call(this,t),this.Tc.color(this.Dc("fontColor",t,null)),this.Tc.opacity(this.Dc("fontOpacity",t,null))},T.g.F=function(){var t=N.B.F.call(this);return T.Bp(this,at,t,"Annotation"),T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),t.background=this.background().F(),t.padding=this.padding().F(),t},T.g.kA=function(t){N.B.kA.call(this,t)},T.g.Y=function(t,i){N.B.Y.call(this,t,i),this.background().ja(!!i,t.background),this.padding().ja(!!i,t.padding),i?T.sp(this.ma,at,t):T.tp(this,at,t),T.tp(this,$,t),T.tp(this,Z,t)},T.g.R=function(){T.jd(this.Tc,this.pt,this.Ha,this.Oa),N.B.R.call(this)},T.H(X,n),T.rp(X,["stroke"],"normal"),T.S(X,$),T.S(X,Z),T.S(X,_),P.line=X,T.g=X.prototype,T.g.type="line",T.g.Te=7,T.g.gh=function(){var t=X.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){X.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){var n=T.Tn(this.Ka[0].stroke());for(t==h&&(t=h=T.O(t,n)),i==s&&(i=s=T.O(i,n)),t=x(t,i,h,s,this.ia),i=0;i<this.Ka.length;i++)(h=this.Ka[i]).clear(),t&&h.moveTo(t[0],t[1]).lineTo(t[2],t[3])},T.g.sh=function(t){X.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=X.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){X.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){X.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(z,n),T.rp(z,["stroke","fill","hatchFill","size"],"normal"),T.S(z,$),T.S(z,Z),T.S(z,st),P.marker=z,T.g=z.prototype,T.g.type="marker",T.g.Te=3,T.g.gh=function(){return T.Fa(ut,lt)},T.g.Es=function(t){z.B.Es.call(this,t),this.u(256)},T.g.Uh=function(){z.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(1),this.Ka[2].zIndex(3))},T.g.Jn=function(t,i){var h;this.state&T.mn?h=this.Da.i("size"):this.state&T.ln&&(h=this.ya.i("size")),h=(0,Tt.isNaN)(h)?this.ca.i("size"):h;var s=T.so(this.i("markerType")),n=this.i("anchor"),a={x:t,y:i};T.Nn(a,n,this.i("offsetX"),this.i("offsetY"));var e=h/2;switch(n){case"left-top":case"center-top":case"right-top":a.y+=e;break;case"left-bottom":case"center-bottom":case"right-bottom":a.y-=e}switch(n){case"left-top":case"left-center":case"left-bottom":a.x+=e;break;case"right-top":case"right-center":case"right-bottom":a.x-=e}for(n=T.Tn(this.Ka[0].stroke()),e=0;e<this.Ka.length;e++){var o=this.Ka[e];o.clear(),s(o,a.x,a.y,h,n)}},T.g.sh=function(t){z.B.sh.call(this,t),this.Ka[0].stroke(this.g(this,t)),this.Ka[0].fill(this.b(this,t)),this.Ka[1].stroke(null).fill(this.f(this,t)),this.Ka[2].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=z.B.F.call(this);return T.Bp(this,st,t,"Annotation"),T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),t},T.g.Y=function(t,i){z.B.Y.call(this,t,i),T.tp(this,st,t),T.tp(this,$,t),T.tp(this,Z,t)},T.g.R=function(){z.B.R.call(this),T.jd(this.Ka),delete this.g,delete this.b,delete this.f},T.H(S,n),T.rp(S,["stroke"],"normal"),T.S(S,$),T.S(S,Z),T.S(S,_),P.ray=S,T.g=S.prototype,T.g.type="ray",T.g.Te=7,T.g.gh=function(){var t=S.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){S.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){var n=T.Tn(this.Ka[0].stroke());for(t==h&&(t=h=T.O(t,n)),i==s&&(i=s=T.O(i,n)),t=K(t,i,h,s,this.ia),i=0;i<this.Ka.length;i++)(h=this.Ka[i]).clear(),t&&h.moveTo(t[0],t[1]).lineTo(t[2],t[3])},T.g.sh=function(t){S.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.im=function(){var t=S.B.im.call(this);if(!t){t=this.coords.xAnchor;var i=this.coords.secondXAnchor-t;t=!(0,Tt.isNaN)(i)&&!(t<this.ia.left&&i<=0||t>this.ia.$a()&&0<=i)}return t},T.g.F=function(){var t=S.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){S.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){S.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(G,n),T.rp(G,["fill","hatchFill","stroke"],"normal"),T.S(G,$),T.S(G,Z),T.S(G,_),P.rectangle=G,T.g=G.prototype,T.g.type="rectangle",T.g.Te=7,T.g.gh=function(){var t=G.B.gh.call(this);return T.Fa(t,ut)},T.g.Uh=function(){G.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(1),this.Ka[2].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){var n=T.Tn(this.Ka[0].stroke());for(t=T.O(t,n),i=T.O(i,n),h=T.O(h,n),s=T.O(s,n),n=0;n<this.Ka.length;n++){var a=this.Ka[n];a.clear(),a.moveTo(t,i).lineTo(h,i).lineTo(h,s).lineTo(t,s).close()}},T.g.sh=function(t){G.B.sh.call(this,t),this.Ka[0].stroke(this.g(this,t)),this.Ka[0].fill(this.b(this,t)),this.Ka[1].stroke(null).fill(this.f(this,t)),this.Ka[2].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=G.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),t},T.g.Y=function(t,i){G.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t)},T.g.R=function(){G.B.R.call(this),T.jd(this.Ka),delete this.g,delete this.b,delete this.f},T.H(U,n),T.rp(U,["fill","hatchFill","stroke"],"normal"),T.S(U,$),T.S(U,Z),T.S(U,_),T.S(U,it),P["trend-channel"]=U,T.g=U.prototype,T.g.type="trend-channel",T.g.Te=15,T.g.gh=function(){var t=U.B.gh.call(this);return T.Fa(t,ut)},T.g.Uh=function(){U.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path(),this.ta.path(),this.ta.path()],this.Ka[0].zIndex(2),this.Ka[1].zIndex(0),this.Ka[2].zIndex(1),this.Ka[3].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++)this.Ka[h].clear();this.Ka[0].moveTo(t,i).lineTo(t,i),this.Ka[3].moveTo(t,i).lineTo(t,i)},T.g.xr=function(t,i,h,s){for(t=K(t,i,h,s,this.ia),i=0;i<this.Ka.length;i++)this.Ka[i].clear();t&&(this.Ka[0].moveTo(t[0],t[1]).lineTo(t[2],t[3]),this.Ka[3].moveTo(t[0],t[1]).lineTo(t[2],t[3]))},T.g.PJ=function(t,i,h,s,n,a){var e=this.ia.left,o=this.ia.$a(),r=this.ia.top,l=this.ia.Ra();if(h==t)s=s-i||1,t<e&&n<e||o<t&&o<n?h=a=s=r=null:(h=u(t,i,t,i+s,this.ia),a=u(n,a,n,a+s,this.ia),s=[i=Math.max(Math.min(t,n),e),r],r=[t=Math.min(Math.max(t,n),o),r,t,l,i,l,i,r]);else{var c=a-(s=(s-i)/(h-t))*n;c<(i-=s*t)&&(a=i,i=c,c=a),(t=t<h?Math.min(t,n):Math.max(t,n))<(n=h)&&o<t||n<t&&t<e?h=a=s=r=null:(t<n?(t=Math.max(t,e),n=o):(n=Math.min(t,o),t=e),h=s*t+i,e=s*n+i,o=s*n+c,(a=s*t+c)<r&&o<r||l<h&&l<e?h=a=s=r=null:(h=x(t,h,n,e,this.ia),a=x(t,a,n,o,this.ia),s<0?(o=Math.max(t,(l-i)/s),i=Math.min(n,(r-c)/s),r=h?(s=[h[0],h[1]],[h[2],h[3],i,h[3]]):(s=[t,r],[i,r]),a?r.push(i,a[3],a[0],a[1],o,a[1]):r.push(i,l,o,l)):0<s?(o=Math.max(t,(r-c)/s),i=Math.min(n,(l-i)/s),r=h?(s=[h[2],h[3]],[h[0],h[1],o,h[1]]):(s=[n,r],[o,r]),a?r.push(o,a[1],a[2],a[3],i,a[3]):r.push(o,l,i,l)):(s=[t,r=h?h[1]:r],r=[n,r,n,l=a?a[1]:l,t,l])))}for(l=0;l<this.Ka.length;l++)this.Ka[l].clear();if(l=this.Ka[0],h&&l.moveTo(h[0],h[1]).lineTo(h[2],h[3]),a&&l.moveTo(a[0],a[1]).lineTo(a[2],a[3]),s&&r)for(l=1;l<this.Ka.length;l++)(h=this.Ka[l]).moveTo(s[0],s[1]),h.lineTo.apply(h,r),h.close()},T.g.sh=function(t){U.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.g(this,t)),this.Ka[1].stroke(null).fill(this.b(this,t)),this.Ka[2].stroke(null).fill(this.f(this,t)),this.Ka[3].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.im=function(){var t=U.B.im.call(this);if(!t&&15==this.Ea){var i=this.coords.xAnchor,h=this.coords.secondXAnchor,s=this.coords.thirdXAnchor;i!=h&&(t=!((t=i<h?Math.min(i,s):Math.max(i,s))<this.ia.left&&t<h||t>this.ia.$a()&&h<t))}return t},T.g.F=function(){var t=U.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),T.Bp(this,it,t,"Annotation"),t},T.g.Y=function(t,i){U.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t),T.tp(this,it,t)},T.g.R=function(){U.B.R.call(this),T.jd(this.Ka),delete this.g,delete this.b,delete this.f},T.H(j,n),T.rp(j,["fill","hatchFill","stroke"],"normal"),T.S(j,$),T.S(j,Z),T.S(j,_),T.S(j,it),P.triangle=j,T.g=j.prototype,T.g.type="triangle",T.g.Te=15,T.g.gh=function(){var t=j.B.gh.call(this);return T.Fa(t,ut)},T.g.Uh=function(){j.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(1),this.Ka[2].zIndex(3))},T.g.Jn=function(t,i){for(var h=0;h<this.Ka.length;h++){var s=this.Ka[h];s.clear(),s.moveTo(t,i).lineTo(t,i)}},T.g.xr=function(t,i,h,s){for(var n=0;n<this.Ka.length;n++){var a=this.Ka[n];a.clear(),a.moveTo(t,i).lineTo(h,s)}},T.g.PJ=function(t,i,h,s,n,a){for(var e=0;e<this.Ka.length;e++){var o=this.Ka[e];o.clear(),o.moveTo(t,i).lineTo(h,s).lineTo(n,a).close()}},T.g.sh=function(t){j.B.sh.call(this,t),this.Ka[0].stroke(this.g(this,t)),this.Ka[0].fill(this.b(this,t)),this.Ka[1].stroke(null).fill(this.f(this,t)),this.Ka[2].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=j.B.F.call(this);return T.Bp(this,$,t,"Annotation"),T.Bp(this,Z,t,"Annotation"),T.Bp(this,_,t,"Annotation"),T.Bp(this,it,t,"Annotation"),t},T.g.Y=function(t,i){j.B.Y.call(this,t,i),T.tp(this,$,t),T.tp(this,Z,t),T.tp(this,_,t),T.tp(this,it,t)},T.g.R=function(){j.B.R.call(this),T.jd(this.Ka),delete this.g,delete this.b,delete this.f},T.H(D,n),T.rp(D,["stroke"],"normal"),T.S(D,$),P["vertical-line"]=D,T.g=D.prototype,T.g.type="vertical-line",T.g.Te=1,T.g.gh=function(){var t=D.B.gh.call(this);return T.Fa(t,ot)},T.g.Uh=function(){D.B.Uh.call(this),this.Ka||(this.Ka=[this.ta.path(),this.ta.path()],this.Ka[0].zIndex(0),this.Ka[1].zIndex(3))},T.g.Jn=function(t){t=T.O(t,T.Tn(this.Ka[0].stroke()));for(var i=0;i<this.Ka.length;i++){var h=this.Ka[i];h.clear(),h.moveTo(t,this.ia.top).lineTo(t,this.ia.Ra())}},T.g.sh=function(t){D.B.sh.call(this,t),this.Ka[0].fill(null).stroke(this.b(this,t)),this.Ka[1].fill(T.Rk).stroke(T.Rk,2*this.hoverGap())},T.g.F=function(){var t=D.B.F.call(this);return T.Bp(this,$,t,"Annotation"),t},T.g.Y=function(t,i){D.B.Y.call(this,t,i),T.tp(this,$,t)},T.g.R=function(){D.B.R.call(this),T.jd(this.Ka),delete this.b},T.H(O,T.X),T.g=O.prototype,T.g.qa=192|T.X.prototype.qa,T.g.Fz=function(){for(var t=0;t<this.Gf.length;t++)this.Gf[t].u(64);this.o&&this.o.u(64),this.u(64)},T.g.X=function(){if(this.xc()){if(T.U(this),this.f||(this.f=T.Zi(),this.f.Ie("mouseover",this.tt,!1,this),this.f.Ie("touchstart",this.tt,!1,this),this.f.wa("mouseover",this.dca,!1,this),this.f.wa("mouseout",this.cca,!1,this),this.g=T.Wi(0,0,0,0),this.g.cursor("crosshair"),this.g.fill(T.Rk),this.g.stroke(null),this.g.wa("mouseover",this.nca,!1,this),this.N=T.Wi(0,0,0,0),this.N.fill(T.Rk),this.N.stroke(null),this.N.zIndex(1e3)),this.J(4)&&(this.P=this.fa(),this.f.clip(this.P),this.g.nf(this.P),this.N.nf(this.P),this.u(64),this.I(4)),this.J(64)){for(var t=0,i=this.Gf.length;t<i;t++){var h=this.Gf[t];T.U(h),h.fa(this.P),h.O(this.f),h.X(),h.da(!1)}this.o&&(T.U(this.o),this.o.fa(this.P),this.o.O(this.f),this.o.X(),this.o.da(!1)),this.I(64)}this.J(2)&&(this.f.parent(this.O()),this.u(128),this.I(2)),this.J(8)&&(t=this.zIndex(),this.f.zIndex(t),this.g.zIndex(t+100),this.I(8)),this.J(128)&&(this.la?this.g.parent(this.O()):this.g.remove(),this.I(128)),this.da(!1)}},T.g.tt=function(t){this.df||(this.df=new Y(this),"touchstart"==t.type&&this.df.Wk(t.zk))},T.g.dca=function(t){t.stopPropagation(),t.f(),t.preventDefault(),t=t.target;for(var i;T.K(t,T.Jf);){if(i=t.tag,T.K(i,n))return void this.b.xj(i);t=t.parent()}this.b.Cd()},T.g.cca=function(t){t.stopPropagation(),t.f(),t.preventDefault(),this.b.Cd()},T.g.nca=function(t){var i=this.b.b,h=i.D;h&&h!=this||(e(i)?o(this.b,!1):(this.g.wa("mouseout",this.$R,!1,this),this.g.wa("mousedown",this.ZR,!1,this),T.yd(T.Vj,"mousemove",this.OK,!1,this),t.stopPropagation(),t.f(),t.preventDefault(),J(this,t),this.va=!1,s(i,this.D,this.G),i.WA()?i.X():W(this,i,!1)))},T.g.$R=function(t){if(this.g.hc("mouseout",this.$R,!1,this),this.g.hc("mousedown",this.ZR,!1,this),t.stopPropagation(),t.f(),t.preventDefault(),J(this,t),this.va=!0,!this.U){if(T.Gd(T.Vj,"mousemove",this.OK,!1,this),(t=this.b.b).P=Tt.NaN,t.U=Tt.NaN,t.u(128),t.va){var i=null!=t.D;t.va=!0,t.D=null,i&&t.u(64),t.qb(null),T.Xp(t,this.HW,this),this.o=null,this.u(64,1)}t.X()}},T.g.ZR=function(t){T.yd(T.Vj,"mouseup",this.YZ,!1,this),t.stopPropagation(),t.f(),t.preventDefault(),J(this,t),this.ba=this.D,this.ga=this.G,this.U=!1,t=this.b.b,s(t,this.D,this.G),t.X()},T.g.YZ=function(t){T.Gd(T.Vj,"mouseup",this.YZ,!1,this),t.stopPropagation(),t.preventDefault(),J(this,t),this.ga=this.ba=Tt.NaN,this.U=!1,(t=this.b.b).va&&W(this,t,!0),h(t);var i=!1;e(t)?i=!0:this.va||s(t,this.D,this.G),t.X(),i&&(o(this.b,!1),this.b.sc().dispatchEvent({type:"annotationDrawingFinish",annotation:t}))},T.g.OK=function(t){t.stopPropagation(),t.preventDefault(),J(this,t),(t=this.b.b).mb(),!t.rb||(0,Tt.isNaN)(this.ba)||(0,Tt.isNaN)(this.ga)||this.U?(s(t,this.D,this.G),t.X()):16<=(this.ba-this.D)*(this.ba-this.D)+(this.ga-this.G)*(this.ga-this.G)&&(this.U=!0,t.va&&W(this,t,!0),h(t),s(t,this.D,this.G),t.X())},T.g.remove=function(){this.f&&(this.f.remove(),this.g.remove())},T.g.select=function(t){return this.b.select(t),this},T.g.Pd=function(){return this.b.Pd(),this},T.g.W6=function(){return this.b.b},T.g.wba=function(t){return this.Gf[t]||null},T.g.xba=function(){return this.Gf.length},T.g.uO=function(t){if(this.o==t)return this.o=null,T.hd(t),this;var i=this.b;return i.b==t&&(i.b=null,o(i,!1)),this.c1((0,T.xa)(this.Gf,t))},T.g.c1=function(t){var i=this.Gf[t];return i&&(T.Ba(this.Gf,t,1),T.hd(i),this.u(64,1)),this},T.g.IW=function(){return this.Gf.length&&(T.jd(this.Gf),this.Gf.length=0,this.u(64,1)),this},T.g.od=function(t){return this.b.lu()?(T.U(this.b.sc()),t=r(this.b,t),W(this,t,!0),this.b.select(t),this.b.b||(T.hd(t),t=null),this.b.sc().da(!0),t):null},T.g.add=function(t){return T.U(this.b.sc()),t=r(this.b,t),W(this,t,!0),this.b.sc().da(!0),t},T.g.V6=function(){this.b.tO()},T.g.Ofa=function(t){var i=r(this.b,"ray");return i.K(t),W(this,i,!0),i},T.g.line=function(t){var i=r(this.b,"line");return i.K(t),W(this,i,!0),i},T.g.Rca=function(t){var i=r(this.b,"infinite-line");return i.K(t),W(this,i,!0),i},T.g.rha=function(t){var i=r(this.b,"vertical-line");return i.K(t),W(this,i,!0),i},T.g.Nca=function(t){var i=r(this.b,"horizontal-line");return i.K(t),W(this,i,!0),i},T.g.kH=function(t){var i=r(this.b,"rectangle");return i.K(t),W(this,i,!0),i},T.g.ellipse=function(t){var i=r(this.b,"ellipse");return i.K(t),W(this,i,!0),i},T.g.iha=function(t){var i=r(this.b,"triangle");return i.K(t),W(this,i,!0),i},T.g.hha=function(t){var i=r(this.b,"trend-channel");return i.K(t),W(this,i,!0),i},T.g.R6=function(t){var i=r(this.b,"andrews-pitchfork");return i.K(t),W(this,i,!0),i},T.g.hba=function(t){var i=r(this.b,"fibonacci-fan");return i.K(t),W(this,i,!0),i},T.g.gba=function(t){var i=r(this.b,"fibonacci-arc");return i.K(t),W(this,i,!0),i},T.g.iba=function(t){var i=r(this.b,"fibonacci-retracement");return i.K(t),W(this,i,!0),i},T.g.jba=function(t){var i=r(this.b,"fibonacci-timezones");return i.K(t),W(this,i,!0),i},T.g.Nq=function(t){var i=r(this.b,"marker");return i.K(t),W(this,i,!0),i},T.g.label=function(t){var i=r(this.b,"label");return i.K(t),W(this,i,!0),i},T.g.HW=function(t){T.W(t,1)&&this.u(64,1)},T.g.F=function(){var t=O.B.F.call(this);return t.annotationsList=V(this),t},T.g.Fe=function(t,i){return!!T.B(i)&&(V(this,i),!0)},T.g.Y=function(t,i){O.B.Y.call(this,t,i);var h=t.annotationsList;T.B(h)&&V(this,h)},T.g.AA=function(t){var i=this.Ed?{}:{annotationsList:V(this)},h={defaultAnnotationSettings:this.b.sc().$P()};return i=T.ol(i,h)||{},t?T.Xm(i):i},T.g.gN=function(t){var i=this.AA(!1);return T.eo(i,"annotations",t)},T.g.fZ=function(t){var i;return T.z(t)?i=T.Ym(t):T.D(t)&&!T.E(t)&&(i=t),i=T.D(i)?i.annotationsList:i,V(this,i),this},T.g.uba=function(t){return t=T.ao(t),this.fZ(t),this},T.g.R=function(){var t=this.b;t.f&&T.Ea(t.f,this),T.jd(this.Gf,this.o,this.g,this.f,this.df,this.N),this.Gf.length=0,this.N=this.df=this.f=this.g=this.o=null,O.B.R.call(this)},T.H(Y,T.Bf),T.g=Y.prototype,T.g.Wk=function(t){var i;if(i=!this.Bo)t:{i=T.ji(t.target,this.g.f.Ga());for(var h,s=Tt.NaN;T.K(i,T.Jf);){if(h=i.tag,T.sn(h)){if(T.K(h,n)){this.b=h,(0,Tt.isNaN)(s)&&(s=-1),this.o=s,i=!0;break t}}else s=T.N(h);i=i.parent()}this.b=null,this.o=Tt.NaN,i=!1}i&&(e(this.b)?this.g.b.sc().dispatchEvent({type:"annotationChangeStart",annotation:this.b})?(Y.B.Wk.call(this,t),this.Bo&&t.stopPropagation()):(this.b=null,this.o=Tt.NaN,t.stopPropagation()):(this.g.b.select(this.b),this.b=null,this.o=Tt.NaN))},T.g.tr=function(){this.b.xU(),this.deltaY=this.deltaX=0},T.g.Rs=function(t,i){this.g.b.sc().dispatchEvent({type:"annotationChange",annotation:this.b})&&this.b.uT(this.o,t,i)},T.g.mca=function(){this.g.b.select(this.b);var t=this.g;t.N.parent(t.f)},T.g.kca=function(){var t=this.b;this.b.u(64),this.b.X(),this.b=null,this.o=Tt.NaN,this.g.N.remove(),this.g.b.sc().dispatchEvent({type:"annotationChangeFinish",annotation:t})};var At=O.prototype;At.add=At.add,At.startDrawing=At.od,At.cancelDrawing=At.V6,At.getAnnotationAt=At.wba,At.getAnnotationsCount=At.xba,At.removeAnnotation=At.uO,At.removeAnnotationAt=At.c1,At.removeAllAnnotations=At.IW,At.getSelectedAnnotation=At.W6,At.select=At.select,At.unselect=At.Pd,At.ray=At.Ofa,At.line=At.line,At.infiniteLine=At.Rca,At.verticalLine=At.rha,At.horizontalLine=At.Nca,At.rectangle=At.kH,At.ellipse=At.ellipse,At.triangle=At.iha,At.trendChannel=At.hha,At.andrewsPitchfork=At.R6,At.fibonacciFan=At.hba,At.fibonacciArc=At.gba,At.fibonacciRetracement=At.iba,At.fibonacciTimezones=At.jba,At.marker=At.Nq,At.label=At.label,At.fromJson=At.fZ,At.toJson=At.AA,At.fromXml=At.uba,At.toXml=At.gN,T.F("anychart.annotations.PlotController",O)}.call(this,h)),s.theme_annotations||(s.theme_annotations=1,function(t){t.ra(t.fa.anychart.themes.defaultTheme.chart,{defaultAnnotationSettings:{base:{enabled:!0,normal:{fill:t.SJ,stroke:t.PJ,hatchFill:null,markers:{enabled:!1,size:5,type:"square",fill:"#ffff66",stroke:"#333333"},labels:{enabled:!0,position:"center-top",anchor:"center-top",format:function(){return this.level}}},hovered:{fill:t.QJ,stroke:t.UJ,markers:{enabled:null},labels:{enabled:null}},selected:{fill:t.QJ,stroke:t.UJ,markers:{enabled:!0},labels:{enabled:null}},color:"#e06666",allowEdit:!0,hoverGap:5},ray:{},line:{},infiniteLine:{},verticalLine:{},horizontalLine:{},rectangle:{},ellipse:{},triangle:{},trendChannel:{},andrewsPitchfork:{},fibonacciFan:{levels:[0,.382,.5,.618,1],timeLevels:[0,.382,.5,.618,1],labels:{anchor:null}},fibonacciArc:{levels:[.236,.382,.5,.618,.764,1],labels:{anchor:null}},fibonacciRetracement:{levels:[0,.236,.382,.5,.618,.764,1,1.236,1.382,1.5,1.618,1.764,2.618,4.236],normal:{labels:{position:"left-center",anchor:"right-center"}}},fibonacciTimezones:{levels:[0,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169],labels:{anchor:"left-bottom"}},marker:{markerType:"arrow-up",normal:{size:20},anchor:"center-top",offsetX:0,offsetY:0},label:{text:"Label",offsetX:0,offsetY:0,anchor:"left-top",hAlign:"start",vAlign:"top",width:null,height:null,background:{enabled:!0,fill:"#eee 0.4",stroke:t.yk("#eee")},padding:5,normal:{markers:{size:3}}}}})}.call(this,h)),(n=Tt.anychart).$=h,n._=s});